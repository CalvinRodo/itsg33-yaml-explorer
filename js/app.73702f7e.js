(function(e){function t(t){for(var r,o,i=t[0],c=t[1],l=t[2],m=0,f=[];m<i.length;m++)o=i[m],s[o]&&f.push(s[o][0]),s[o]=0;for(r in c)Object.prototype.hasOwnProperty.call(c,r)&&(e[r]=c[r]);u&&u(t);while(f.length)f.shift()();return a.push.apply(a,l||[]),n()}function n(){for(var e,t=0;t<a.length;t++){for(var n=a[t],r=!0,i=1;i<n.length;i++){var c=n[i];0!==s[c]&&(r=!1)}r&&(a.splice(t--,1),e=o(o.s=n[0]))}return e}var r={},s={app:0},a=[];function o(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,o),n.l=!0,n.exports}o.m=e,o.c=r,o.d=function(e,t,n){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},o.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)o.d(n,r,function(t){return e[t]}.bind(null,r));return n},o.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="/itsg33-yaml-explorer/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],c=i.push.bind(i);i.push=t,i=i.slice();for(var l=0;l<i.length;l++)t(i[l]);var u=c;a.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"56d7":function(e,t,n){"use strict";n.r(t);n("cadf"),n("551c"),n("f751"),n("097d");var r=n("2b0e"),s=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app"}},[n("h1",[e._v(e._s(e.name))]),e._m(0),n("form",{attrs:{role:"form"}},[n("div",{staticClass:"container-fluid"},[n("div",{staticClass:"row"},[n("div",{staticClass:"col-md-6"},[n("SearchBox",{model:{value:e.search,callback:function(t){e.search=t},expression:"search"}})],1),n("div",{staticClass:"col-md-6"},[n("baselines")],1)])])]),n("p",[e._v("Results found: "+e._s(e.$store.getters.found))]),n("SearchResults",{model:{value:e.$store.getters.filteredList,callback:function(t){e.$set(e.$store.getters,"filteredList",t)},expression:"$store.getters.filteredList"}})],1)},a=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"alert alert-info"},[n("p",[n("a",{attrs:{href:"https://github.com/esdc-devx/itsg33-yaml-explorer"}},[e._v("Link to this project on GitHub")])])])}],o=(n("4917"),n("96cf"),n("3b8d")),i=n("8f3c"),c=n.n(i),l=function(){var e=Object(o["a"])(regeneratorRuntime.mark(function e(t){var n,r,s,a;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(void 0!==t){e.next=2;break}throw new Error("you must provide a url for the baseline.yaml document");case 2:e.prev=2,n=new URL(t),e.next=10;break;case 6:throw e.prev=6,e.t0=e["catch"](2),e.t0.message,new Error('"'.concat(t,'" is not a valid URL'));case 10:if(n.pathname.match(/.yaml$/)){e.next=12;break}throw new Error('The URL "'.concat(t,'" needs to point to a YAML file (ie, ending in .yaml)'));case 12:return e.prev=12,e.next=15,fetch(t);case 15:return s=e.sent,e.next=18,s.text();case 18:r=e.sent,e.next=25;break;case 21:throw e.prev=21,e.t1=e["catch"](12),a=e.t1.message,new Error("Fetching security baseline data failed: ".concat(a));case 25:return e.abrupt("return",c.a.parse(r));case 26:case"end":return e.stop()}},e,null,[[2,6],[12,21]])}));return function(t){return e.apply(this,arguments)}}(),u=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("form-group",[n("label",{attrs:{for:"search"}},[e._v("Search")]),n("input",{staticClass:"form-control",attrs:{name:"search",id:"search",type:"text"},domProps:{value:e.value},on:{input:function(t){return e.$emit("input",t.target.value)},keydown:function(t){if(!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter"))return null;t.preventDefault(),t.stopPropagation()}}})])},m=[],f=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"form-group"},[e._t("default")],2)},p=[],d={name:"form-group"},h=d,v=n("2877"),b=Object(v["a"])(h,f,p,!1,null,null,null),g=b.exports,y={name:"search-box",props:["value"],components:{FormGroup:g}},w=y,_=Object(v["a"])(w,u,m,!1,null,null,null),x=_.exports,k=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",e._l(e.value,function(t,r){return n("div",{key:r,staticClass:"wb-txthl"},[n("div",{staticClass:"panel panel-primary"},[n("div",{staticClass:"panel-heading"},[n("h3",[n("span",{domProps:{innerHTML:e._s(e.$options.filters.highlight(r,e.searchTerm))}}),e._v(" |\n              "),n("span",{domProps:{innerHTML:e._s(e.$options.filters.highlight(t.name,e.searchTerm))}})])]),n("div",{staticClass:"panel-body"},[n("p",[n("span",{domProps:{innerHTML:e._s(e.$options.filters.highlight(t.description,e.searchTerm))}})])])])])}),0)},$=[],C=(n("a481"),n("3b2b"),{props:["value"],computed:{searchTerm:function(){return this.$store.state.searchTerm}},filters:{highlight:function(e,t){if(t.length<=1)return e;var n=new RegExp(t,"ig");return e.replace(n,'<mark class="txthl">$&</mark>')}}}),T=C,S=Object(v["a"])(T,k,$,!1,null,null,null),O=S.exports,M=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("fieldset",{staticClass:"legend-brdr-bttm"},[n("legend",[e._v("Baselines")]),n("div",{staticClass:"radio"},[n("label",{attrs:{for:"none"}},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.selected,expression:"selected"}],attrs:{id:"none",type:"radio",value:"none",name:"subSet"},domProps:{checked:e._q(e.selected,"none")},on:{change:function(t){e.selected="none"}}}),e._v("\n        None\n      ")])]),n("div",{staticClass:"radio"},[n("label",{attrs:{for:"pbmm"}},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.selected,expression:"selected"}],attrs:{id:"pbmm",type:"radio",value:"pbmm",name:"subSet"},domProps:{checked:e._q(e.selected,"pbmm")},on:{change:function(t){e.selected="pbmm"}}}),e._v("\n        PBMM\n      ")])]),n("div",{staticClass:"radio"},[n("label",{attrs:{for:"min"}},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.selected,expression:"selected"}],attrs:{id:"min",type:"radio",value:"min",name:"subSet"},domProps:{checked:e._q(e.selected,"min")},on:{change:function(t){e.selected="min"}}}),e._v("\n        Minimum\n      ")])])])},P=[],j={name:"baselines",computed:{selected:{get:function(){return this.$store.state.baseline},set:function(e){console.log(e),this.$store.commit("changeSelection",e)}}}},L=j,E=Object(v["a"])(L,M,P,!1,null,null,null),B=E.exports,R={name:"app",data:function(){return{controls:{},name:""}},computed:{search:{get:function(){return this.$store.state.searchTerm},set:function(e){this.$store.commit("search",e)}},found:function(){return 10}},components:{Baselines:B,SearchBox:x,SearchResults:O},created:function(){var e=this;l("https://raw.githubusercontent.com/cds-snc/ITSG-33-definitions/master/ITSG-33a.yaml").then(function(t){e.$store.commit("storeControls",t)}),l("https://raw.githubusercontent.com/cds-snc/ITSG-33-baselines/master/PBMM.yaml").then(function(t){e.$store.commit("storePBMM",t)}),l("https://raw.githubusercontent.com/cds-snc/ITSG-33-baselines/master/minimum-per-release.yaml").then(function(t){e.$store.commit("storeMinimum",t)})}},G=R,I=Object(v["a"])(G,s,a,!1,null,null,null),H=I.exports,N=(n("0d6d"),n("7f7f"),n("6762"),n("2fdb"),n("ac6a"),n("456d"),n("2f62")),q=n("2ef0"),F=n.n(q);function U(e){return Object.keys(e.standards["ITSG-33a"])}function D(e,t){return 2===e.length&&V(t)}function J(e){return""===e||1===e}function V(e){for(var t in e)if(e.hasOwnProperty(t))return!0;return!1}function z(e,t,n){return t.toLowerCase().includes(n)}function A(e,t,n){return e.name.toLowerCase().includes(n)||e.description.toLowerCase().includes(n)}r["a"].use(N["a"]);var Y=new N["a"].Store({state:{baseline:"none",searchTerm:"",name:"",controls:{},pbmm:{},minimum:{}},getters:{found:function(e,t){return Object.keys(t.filteredList).length},baselineControls:function(e){switch(e.baseline){case"none":return e.controls;case"pbmm":return F.a.pick(e.controls,e.pbmm);case"min":return F.a.pick(e.controls,e.minimum)}},filteredList:function(e,t){var n=t.baselineControls;if(J(e.searchTerm))return n;var r=F.a.pickBy(n,function(t,n){return z(t,n,e.searchTerm)});if(D(e.searchTerm,r))return r;var s=F.a.pickBy(n,function(t,n){return A(t,n,e.searchTerm)}),a=F.a.merge(r,s);return a}},mutations:{changeSelection:function(e,t){e.baseline=t},storeControls:function(e,t){e.name=t.name,delete t.name,delete t["Family-Control ID Enhancement"],e.controls=F.a.mapValues(t,function(e){return F.a.mapValues(e,function(e){return e.replace(/\n/g,"<br />")})}),Object.freeze(e.controls)},storePBMM:function(e,t){e.pbmm=U(t)},storeMinimum:function(e,t){e.minimum=U(t)},search:function(e,t){e.searchTerm=t.toLowerCase()}},actions:{}});r["a"].config.productionTip=!1,r["a"].config.performance=!0,console.log("Env production"),new r["a"]({store:Y,render:function(e){return e(H)}}).$mount("#app")}});
//# sourceMappingURL=app.73702f7e.js.map